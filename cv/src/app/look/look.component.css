/* ——— Variables: on s’appuie sur tes tokens globaux si présents ——— */
:root{
  --card-bg: color-mix(in oklab, var(--surface, #fff) 85%, transparent);
  --card-bg-2: color-mix(in oklab, var(--surface-2, #f7f7f9) 65%, transparent);
  --text: var(--text, #1a1a1a);
  --muted: var(--muted, #6b7280);
  --border: var(--border, #e5e7eb);
  --ring: var(--ring, #5b8cff33);
  --brand: #5b8cff;
}

/* ——— Layout global ——— */
.dashboard{
  max-width: 1100px;
  margin: 0 auto;
  padding: 20px clamp(16px, 5vw, 40px);
  font-family: Arial, sans-serif;
  color: var(--text);
}

/* ——— Header ——— */
.head{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:16px; margin-bottom:16px;
}
.head-left h2{
  margin:0 0 4px; font-weight:800; letter-spacing:.2px;
}
.head-left .muted{ margin:0; color:var(--muted); }
.toolbar{ display:flex; gap:.75rem; }

/* ——— Segmented ——— */
.segmented{
  display:inline-flex; gap:0; border:1px solid var(--border);
  border-radius:999px; overflow:hidden; background: color-mix(in oklab, var(--card-bg) 60%, transparent);
}
.segmented button{
  padding:.45rem .95rem; border:0; background:transparent; color:var(--text);
  cursor:pointer; transition: all .18s ease; font-weight:700;
}
.segmented button + button{ border-left:1px solid var(--border); }
.segmented button:hover{ box-shadow:0 0 0 6px var(--ring) inset; }
.segmented button.active{
  color:#fff; background: linear-gradient(135deg, #5b8cff, #8f73ff);
}

/* ——— Cards & grid ——— */
.card{
  background: linear-gradient(180deg, var(--card-bg), var(--card-bg-2));
  border:1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 10px 30px #00000015;
}
.card-head{ display:flex; align-items:center; justify-content:space-between; }

.grid-2{
  display:grid; grid-template-columns: 1fr 1fr; gap:16px;
}
.panel h3{ margin:0 0 10px; font-weight:800; }

@media (max-width: 860px){
  .grid-2{ grid-template-columns: 1fr; }
}

/* ——— Form ——— */
.frm{ display:grid; gap:12px; }
.row2{
  display:grid; gap:12px;
  grid-template-columns: 1.2fr .8fr .8fr;
}
.row2 .full{ grid-column: 1 / -1; }
@media (max-width: 720px){ .row2{ grid-template-columns: 1fr; } }

label{ display:grid; gap:6px; font-size:.95rem; }
input, select{
  padding:10px 12px; border-radius:12px; border:1px solid var(--border);
  background: color-mix(in oklab, var(--card-bg-2) 70%, transparent);
  color:var(--text); outline:none; transition:border-color .15s ease, box-shadow .15s ease;
}
input:focus, select:focus{
  border-color: var(--brand);
  box-shadow: 0 0 0 4px var(--ring);
}

.actions{ display:flex; align-items:center; gap:10px; }
.primary{
  padding:10px 14px; border-radius:12px; border:0; color:#fff; cursor:pointer;
  background: linear-gradient(135deg,#5b8cff,#8f73ff);
  box-shadow: 0 12px 28px #5b8cff44;
}
.primary:disabled{ opacity:.6; cursor: default; }
.error{ color:#ff6b6b; font-weight:600; }

/* ——— Spinner ——— */
.spinner{
  display:inline-block; width:18px; height:18px; border-radius:50%;
  border:3px solid #ffffff66; border-right-color:#fff; animation: spin .8s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg); } }

/* ——— Chart ——— */
.chart-wrap{
  position: relative;
  width: 100%;
  height: 320px;            /* hauteur fixe du conteneur */
  border: 1px dashed #e5e5e5;
  border-radius: 12px;
  padding: 0;
  overflow: hidden;         /* évite tout débordement */
}

.chart-wrap canvas{
  position: absolute;
  inset: 0;
  width: 100% !important;
  height: 100% !important;
  display: block;
}
/* ——— Liste mouvements ——— */
.list{ list-style:none; margin:0; padding:0; }
.item{
  display:flex; justify-content:space-between; align-items:flex-start;
  gap:12px; padding:12px 6px; border-bottom:1px solid var(--border);
}
.item:last-child{ border-bottom:none; }

.meta{ max-width:70%; }
.cat{ font-weight:800; letter-spacing:.2px; }
.sub{ color:var(--muted); font-size:.92rem; }

.amount{ display:flex; align-items:center; gap:.6rem; white-space:nowrap; }
.amount strong{ font-variation-settings: "wght" 700; }

button.link{
  background:transparent; border:0; color:#5b8cff; cursor:pointer; font-weight:800;
}
button.link:hover{ text-decoration: underline; }
button.link.danger{ color:#ff6b6b; }

.empty{
  padding:14px 6px; color:var(--muted);
}
